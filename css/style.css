/* rcpbx — Swiss Watch */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#faf9f6;--bg-alt:#f0efeb;--text:#222;--text-muted:#666;--text-dim:#999;--border:#ddd;--accent:#16a34a;--accent-dim:rgba(22,163,74,0.1);--font-sans:'Inter',-apple-system,sans-serif;--font-mono:'JetBrains Mono','Courier New',monospace;--max-width:1100px;--header-height:56px}
html{font-size:16px;scroll-behavior:smooth}
body{font-family:var(--font-sans);background:var(--bg);color:var(--text);line-height:1.6}
a{color:inherit;text-decoration:none}

/* Header */
.site-header{position:sticky;top:0;z-index:100;background:var(--bg);border-bottom:1px solid var(--border);height:var(--header-height);display:flex;align-items:center}
.site-header .container{width:100%;max-width:var(--max-width);margin:0 auto;padding:0 1.5rem;display:flex;align-items:center;justify-content:space-between}
.logo{font-family:var(--font-mono);font-size:1.25rem;font-weight:500}
.logo::before{content:'>';color:var(--accent);margin-right:0.25rem}
.header-link{font-size:0.875rem;color:var(--text-muted)}
.header-link:hover{color:var(--text)}

/* Homepage */
.home-hero{padding:3rem 1.5rem 1.5rem;text-align:center;max-width:600px;margin:0 auto}
.home-hero h1{font-size:2rem;font-weight:700;letter-spacing:-0.03em;margin-bottom:0.25rem}
.home-hero p{color:var(--text-muted);font-size:0.9rem}
.search-container{max-width:480px;margin:1.5rem auto 2rem;padding:0 1.5rem}
.search-box{position:relative}
.search-input{width:100%;padding:0.875rem 1rem 0.875rem 2.75rem;font-family:var(--font-mono);font-size:0.9rem;border:2px solid var(--border);border-radius:6px;background:#fff;outline:none;transition:border-color 0.15s}
.search-input:focus{border-color:var(--accent)}
.search-input::placeholder{color:var(--text-dim)}
.search-icon{position:absolute;left:0.875rem;top:50%;transform:translateY(-50%);color:var(--text-dim);width:18px;height:18px}
.search-results{position:absolute;top:100%;left:0;right:0;background:#fff;border:2px solid var(--border);border-top:none;border-radius:0 0 6px 6px;max-height:300px;overflow-y:auto;display:none;z-index:50}
.search-results.active{display:block}
.search-result-item{padding:0.625rem 1rem;border-bottom:1px solid var(--border);cursor:pointer;display:flex;justify-content:space-between;font-size:0.9rem}
.search-result-item:last-child{border-bottom:none}
.search-result-item:hover{background:var(--bg-alt)}
.search-result-item .title{font-weight:500}
.search-result-item .category{font-family:var(--font-mono);font-size:0.75rem;color:var(--text-muted)}

/* Category Grid */
.category-grid{max-width:var(--max-width);margin:0 auto;padding:0 1.5rem 2rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1px;background:var(--border);border:1px solid var(--border)}
.category-link{background:var(--bg);padding:1rem 1.25rem;display:flex;justify-content:space-between;align-items:center;transition:background 0.15s;font-size:0.9rem}
.category-link:hover{background:var(--bg-alt)}
.category-link .name{font-weight:600}
.category-link .name::before{content:'>';color:var(--accent);margin-right:0.4rem;font-family:var(--font-mono)}
.category-link .count{font-family:var(--font-mono);font-size:0.8rem;color:var(--text-muted)}

/* Tips Card */
.tips-card{max-width:var(--max-width);margin:0 auto 2rem;padding:0 1.5rem}
.tips-card-inner{background:var(--bg-alt);border:1px solid var(--border);padding:1.25rem 1.5rem;border-radius:6px}
.tips-card h2{font-size:0.75rem;text-transform:uppercase;letter-spacing:0.08em;color:var(--text-muted);margin-bottom:0.75rem;font-weight:600}
.tips-list{list-style:none;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:0.5rem 1.5rem}
.tips-list li{font-family:var(--font-mono);font-size:0.8rem;color:var(--text-muted)}
.tips-list li::before{content:'—';margin-right:0.5rem;color:var(--text-dim)}

/* Category Page */
.category-header{padding:2rem 1.5rem 1rem;max-width:var(--max-width);margin:0 auto}
.category-header h1{font-size:1.5rem;font-weight:700;margin-bottom:0.25rem}
.category-header .count{font-family:var(--font-mono);color:var(--text-muted);font-size:0.8rem}
.recipe-list{max-width:var(--max-width);margin:0 auto;padding:0 1.5rem 3rem;list-style:none}
.recipe-list li{border-bottom:1px solid var(--border)}
.recipe-list a{display:block;padding:0.875rem 0;transition:padding-left 0.15s;font-size:0.95rem}
.recipe-list a:hover{padding-left:0.5rem;color:var(--accent)}
.recipe-list a::before{content:'—';color:var(--text-dim);margin-right:0.6rem}

/* Breadcrumb */
.breadcrumb{font-family:var(--font-mono);font-size:0.75rem;color:var(--text-muted);padding:1rem 1.5rem;max-width:var(--max-width);margin:0 auto}
.breadcrumb a{color:var(--text-muted)}
.breadcrumb a:hover{color:var(--accent)}
.breadcrumb span{margin:0 0.4rem;color:var(--text-dim)}

/* Recipe Page */
.recipe-card{max-width:var(--max-width);margin:0 auto}
.recipe-header{padding:0.5rem 1.5rem 1.5rem;border-bottom:1px solid var(--border)}
.recipe-title{font-size:1.75rem;font-weight:700;letter-spacing:-0.02em;margin-bottom:0.5rem}
.recipe-source{display:inline-flex;align-items:center;gap:0.4rem;background:var(--accent-dim);color:var(--accent);padding:0.3rem 0.6rem;border-radius:4px;font-family:var(--font-mono);font-size:0.75rem;font-weight:500;margin-bottom:0.75rem}
.recipe-source a{color:inherit;text-decoration:underline;text-underline-offset:2px}
.recipe-meta{display:flex;gap:1.5rem;font-family:var(--font-mono);font-size:0.8rem;flex-wrap:wrap;padding:0}
.recipe-meta .item{display:flex;gap:0.4rem}
.recipe-meta .label{color:var(--text-muted)}
.recipe-meta .value{font-weight:500}

/* Controls */
.recipe-controls{max-width:var(--max-width);margin:0 auto;padding:0.75rem 1.5rem;display:flex;gap:1rem;flex-wrap:wrap;align-items:center;border-bottom:1px solid var(--border);font-family:var(--font-mono);font-size:0.75rem}
.scale-controls{display:flex;align-items:center;gap:0.4rem}
.scale-controls span{color:var(--text-muted)}
.scale-btn{padding:0.3rem 0.6rem;border:1px solid var(--border);background:var(--bg);cursor:pointer;border-radius:4px;font-family:var(--font-mono);font-size:0.75rem;transition:all 0.15s}
.scale-btn:hover{border-color:var(--text-muted)}
.scale-btn.active{background:var(--text);color:var(--bg);border-color:var(--text)}
.wake-lock{display:flex;align-items:center;gap:0.4rem;color:var(--text-muted);cursor:pointer;margin-left:auto}
.wake-lock input{accent-color:var(--accent)}
.wake-lock.active{color:var(--accent)}

/* Two-Column Layout */
.recipe-body{max-width:var(--max-width);margin:0 auto;display:grid;grid-template-columns:280px 1fr}
@media(max-width:768px){.recipe-body{grid-template-columns:1fr}}
.ingredients{padding:1.5rem;border-right:1px solid var(--border)}
@media(max-width:768px){.ingredients{position:static;border-right:none;border-bottom:1px solid var(--border);max-height:none}}
.ingredients h2,.steps h2,.recipe-notes h2{font-size:0.7rem;text-transform:uppercase;letter-spacing:0.08em;color:var(--text-muted);margin-bottom:0.75rem;font-weight:600}
.ingredients-list{list-style:none}
.ingredients-list li{font-family:var(--font-mono);font-size:0.85rem;padding:0.4rem 0;border-bottom:1px solid var(--border);cursor:pointer;transition:all 0.15s}
.ingredients-list li:hover{background:var(--bg-alt);margin:0 -0.5rem;padding-left:0.5rem;padding-right:0.5rem}
.ingredients-list li.checked{color:var(--text-dim);text-decoration:line-through}
.ingredients-list .amount{color:var(--accent);font-weight:500}
.steps{padding:1.5rem 1.5rem 3rem 2rem}
.steps h2{margin-bottom:1rem}
.steps-list{list-style:none;counter-reset:step}
.steps-list li{position:relative;padding:0.75rem 0 0.75rem 2.5rem;border-bottom:1px solid var(--border);cursor:pointer;transition:all 0.15s;font-size:0.95rem}
.steps-list li::before{counter-increment:step;content:counter(step);position:absolute;left:0;top:0.75rem;width:1.5rem;height:1.5rem;background:var(--bg-alt);border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:var(--font-mono);font-size:0.7rem;font-weight:500;color:var(--text-muted)}
.steps-list li:hover{background:var(--bg-alt);margin:0 -0.75rem;padding-left:3.25rem;padding-right:0.75rem}
.steps-list li.active{background:var(--accent-dim);margin:0 -0.75rem;padding-left:3.25rem;padding-right:0.75rem}
.steps-list li.active::before{background:var(--accent);color:#fff}
.steps-list li.dimmed{opacity:0.4}
.recipe-notes{max-width:var(--max-width);margin:0 auto;padding:1.5rem;border-top:1px solid var(--border);background:var(--bg-alt)}
.recipe-notes p{font-family:var(--font-mono);font-size:0.8rem;color:var(--text-muted);margin-bottom:0.4rem}
.site-footer{padding:1.5rem;text-align:center;border-top:1px solid var(--border);font-family:var(--font-mono);font-size:0.75rem;color:var(--text-muted)}
.container{max-width:var(--max-width);margin:0 auto;padding:0 1.5rem}

/* === MOBILE-FIRST IMPROVEMENTS === */

/* Recipe containment */
.recipe-body{background:#fff;border:1px solid var(--border);border-radius:6px;margin:1rem auto;overflow:hidden}
.recipe-notes{border-radius:0 0 6px 6px}
@media(max-width:768px){.recipe-body{margin:0.75rem;border-radius:8px}}

/* Touch targets - minimum 44px tap areas */
@media(max-width:768px){
  .ingredients-list li{padding:0.75rem 0;font-size:0.9rem;min-height:44px;display:flex;align-items:center}
  .steps-list li{padding:1rem 0 1rem 3rem;min-height:48px}
  .steps-list li::before{top:1rem;width:2rem;height:2rem;font-size:0.8rem}
  .scale-btn{padding:0.5rem 0.875rem;font-size:0.8rem;min-height:44px}
  .scale-controls{gap:0.5rem}
  .recipe-list a{padding:1rem 0;min-height:48px;display:flex;align-items:center}
  .category-link{padding:1rem 1.25rem;min-height:52px}
  .search-result-item{padding:0.875rem 1rem;min-height:48px}
}

/* Font sizing for mobile readability */
@media(max-width:768px){
  html{font-size:17px}
  .home-hero h1{font-size:1.75rem}
  .home-hero p{font-size:0.95rem}
  .recipe-title{font-size:1.5rem}
  .recipe-source{font-size:0.8rem;padding:0.4rem 0.7rem}
  .recipe-meta{font-size:0.85rem;gap:1rem}
  .ingredients h2,.steps h2,.recipe-notes h2{font-size:0.75rem}
  .ingredients-list li{font-size:0.95rem}
  .steps-list li{font-size:1rem;line-height:1.5}
  .recipe-notes p{font-size:0.85rem}
  .breadcrumb{font-size:0.8rem}
  .tips-list li{font-size:0.85rem}
}

/* Slimmer header on mobile */
@media(max-width:768px){
  :root{--header-height:48px}
  .site-header{height:var(--header-height)}
  .logo{font-size:1.1rem}
  .header-link{font-size:0.8rem}
  .site-header .container{padding:0 1rem}
  .breadcrumb{padding:0.75rem 1rem}
}

/* Thumb zone - controls at bottom on mobile */
@media(max-width:768px){
  .recipe-controls{position:sticky;bottom:0;z-index:50;background:var(--bg);border-top:1px solid var(--border);border-bottom:none;padding:0.875rem 1rem;margin-top:auto}
  .wake-lock{margin-left:0;margin-right:auto}
  .scale-controls{margin-left:auto}
}

/* Ingredient list - smooth scroll, clear checks */
@media(max-width:768px){
  .ingredients{padding:1.25rem 1rem;max-height:none;overflow:visible;border-bottom:1px solid var(--border)}
  .ingredients-list{-webkit-overflow-scrolling:touch}
  .ingredients-list li{border-bottom:1px solid var(--border);padding-left:0.25rem;padding-right:0.25rem}
  .ingredients-list li:active{background:var(--accent-dim)}
  .ingredients-list li.checked{background:var(--bg-alt);opacity:0.6}
  .ingredients-list .amount{min-width:4rem;display:inline-block}
}

/* Ingredient list mobile improvements */
@media(max-width:768px){
  .ingredients{padding:1.25rem 1rem;max-height:none;position:static;border-right:none;border-bottom:1px solid var(--border)}
  .ingredients-list li{padding:0.875rem 0.5rem;margin:0 -0.5rem;border-radius:4px}
  .ingredients-list li:active{background:var(--accent-dim)}
  .ingredients-list li.checked{background:var(--bg-alt)}
  .steps{padding:1.25rem 1rem 6rem}
}

/* Wake lock toggle - prominent cooking mode */
.wake-lock{display:flex;font-size:0.8rem;padding:0.4rem 0.6rem;border-radius:4px;border:1px solid var(--border);background:var(--bg)}
.wake-lock:hover{border-color:var(--text-muted)}
.wake-lock.active{background:var(--accent-dim);border-color:var(--accent);color:var(--accent)}
@media(max-width:768px){
  .wake-lock{padding:0.5rem 0.75rem;font-size:0.85rem;border-radius:6px}
}

/* Print styles - clean one-page recipe */
@media print{
  *{background:transparent!important;color:#000!important;box-shadow:none!important}
  .site-header,.site-footer,.recipe-controls,.breadcrumb,.wake-lock{display:none!important}
  .recipe-body{display:block;border:none;margin:0}
  .ingredients{position:static;border:none;border-bottom:1px solid #ccc;padding:0 0 1rem 0;margin-bottom:1rem}
  .steps{padding:0}
  .recipe-header{padding:0 0 1rem 0;border-bottom:1px solid #ccc;margin-bottom:1rem}
  .recipe-title{font-size:1.5rem}
  .recipe-source{background:#eee!important;color:#000!important;-webkit-print-color-adjust:exact;print-color-adjust:exact}
  .ingredients-list li,.steps-list li{break-inside:avoid;padding:0.25rem 0;font-size:0.9rem}
  .steps-list li{padding-left:2rem}
  .steps-list li::before{width:1.25rem;height:1.25rem;font-size:0.65rem}
  .recipe-notes{background:transparent!important;border-top:1px solid #ccc;padding:1rem 0 0 0;margin-top:1rem}
  .ingredients-list li.checked{text-decoration:none;color:#000!important}
  @page{margin:0.5in}
}

/* Dark mode - system auto-detect */
@media(prefers-color-scheme:dark){
  :root{--bg:#111;--bg-alt:#1a1a1a;--text:#e5e5e5;--text-muted:#999;--text-dim:#666;--border:#333;--accent:#22c55e;--accent-dim:rgba(34,197,94,0.15)}
  body{background:var(--bg)}
  .search-input{background:#1a1a1a;border-color:var(--border);color:var(--text)}
  .search-results{background:#1a1a1a;border-color:var(--border)}
  .recipe-body{background:var(--bg-alt)}
  .tips-card-inner{background:var(--bg-alt)}
  .scale-btn{background:var(--bg-alt);color:var(--text)}
  .scale-btn.active{background:var(--text);color:var(--bg)}
  .wake-lock{background:var(--bg-alt);border-color:var(--border)}
}

/* Checked ingredient slide */
.ingredients-list li.checked{transform:translateX(8px);opacity:0.5}

/* Hide photo placeholder */
.recipe-photo{display:none}

/* Recipe footer (source attribution) */
.recipe-footer{max-width:var(--max-width);margin:0 auto;padding:1rem 1.5rem;font-family:var(--font-mono);font-size:0.8rem;color:var(--text-muted);border-top:1px solid var(--border)}
.recipe-footer span{display:inline-flex;align-items:center;gap:0.4rem}
.recipe-footer span::before{content:'—';color:var(--text-dim)}

/* Recipe tagline */
.recipe-tagline{color:var(--text-muted);font-size:0.95rem;margin-bottom:1rem}

/* Recipe meta styling */
.meta-item{display:flex;flex-direction:column;gap:0.125rem}
.meta-label{font-size:0.65rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-muted)}
.meta-value{font-weight:600;font-family:var(--font-mono)}

/* Section titles in recipe body */
.section-title{font-size:0.7rem;text-transform:uppercase;letter-spacing:0.08em;color:var(--text-muted);margin-bottom:0.75rem;font-weight:600}
